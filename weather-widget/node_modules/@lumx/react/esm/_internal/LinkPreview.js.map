{"version":3,"file":"LinkPreview.js","sources":["../../../src/components/link-preview/LinkPreview.tsx"],"sourcesContent":["import React, { forwardRef, useCallback } from 'react';\n\nimport classNames from 'classnames';\n\nimport {\n    AspectRatio,\n    ColorPalette,\n    ColorVariant,\n    Link,\n    LinkProps,\n    Size,\n    Theme,\n    Thumbnail,\n    ThumbnailProps,\n} from '@lumx/react';\n\nimport { Comp, GenericProps, getRootClassName, handleBasicClasses } from '@lumx/react/utils';\n\n/**\n * Defines the props of the component.\n */\nexport interface LinkPreviewProps extends GenericProps {\n    /** Description (either a string, or sanitized html). */\n    description?: string | { __html: string };\n    /** Link URL. */\n    link: string;\n    /** Props to pass to the link (minus those already set by the LinkPreview props). */\n    linkProps?: Omit<LinkProps, 'color' | 'colorVariant' | 'href' | 'target'>;\n    /** Size variant. */\n    size?: Extract<Size, 'regular' | 'big'>;\n    /** Theme adapting the component to light or dark background. */\n    theme?: Theme;\n    /** Thumbnail for the link preview. */\n    thumbnailProps?: ThumbnailProps;\n    /** Title. */\n    title?: string;\n}\n\n/**\n * Component display name.\n */\nconst COMPONENT_NAME = 'LinkPreview';\n\n/**\n * Component default class name and class prefix.\n */\nconst CLASSNAME = getRootClassName(COMPONENT_NAME);\n\n/**\n * Component default props.\n */\nconst DEFAULT_PROPS: Partial<LinkPreviewProps> = {\n    size: Size.regular,\n    theme: Theme.light,\n};\n\n/**\n * LinkPreview component.\n *\n * @param  props Component props.\n * @param  ref   Component ref.\n * @return React element.\n */\nexport const LinkPreview: Comp<LinkPreviewProps, HTMLDivElement> = forwardRef((props, ref) => {\n    const { className, description, link, linkProps, size, theme, thumbnailProps, title, ...forwardedProps } = props;\n\n    //TODO: a11y\n    const goToUrl = useCallback(() => window.open(link, '_blank'), [link]);\n\n    return (\n        <div\n            ref={ref}\n            {...forwardedProps}\n            className={classNames(\n                className,\n                handleBasicClasses({\n                    prefix: CLASSNAME,\n                    size: size === Size.big && thumbnailProps ? Size.big : Size.regular,\n                    theme,\n                }),\n            )}\n        >\n            <div className={`${CLASSNAME}__wrapper`}>\n                {thumbnailProps && (\n                    <div className={`${CLASSNAME}__thumbnail`}>\n                        <Thumbnail\n                            {...thumbnailProps}\n                            onClick={goToUrl}\n                            role=\"link\"\n                            aspectRatio={AspectRatio.free}\n                            fillHeight\n                        />\n                    </div>\n                )}\n\n                <div className={`${CLASSNAME}__container`}>\n                    {title && (\n                        <div className={`${CLASSNAME}__title`}>\n                            <Link\n                                {...linkProps}\n                                target=\"_blank\"\n                                href={link}\n                                color={theme === Theme.light ? ColorPalette.dark : ColorPalette.light}\n                                colorVariant={ColorVariant.N}\n                            >\n                                {title}\n                            </Link>\n                        </div>\n                    )}\n                    {description && <p className={`${CLASSNAME}__description`}>{description}</p>}\n\n                    <div className={`${CLASSNAME}__link`}>\n                        <Link\n                            {...linkProps}\n                            className={classNames(`${CLASSNAME}__link`, linkProps?.className)}\n                            target=\"_blank\"\n                            href={link}\n                            color={theme === Theme.light ? ColorPalette.blue : ColorPalette.light}\n                            colorVariant={ColorVariant.N}\n                        >\n                            {link}\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nLinkPreview.displayName = COMPONENT_NAME;\nLinkPreview.className = CLASSNAME;\nLinkPreview.defaultProps = DEFAULT_PROPS;\n"],"names":["COMPONENT_NAME","CLASSNAME","getRootClassName","DEFAULT_PROPS","size","Size","regular","theme","Theme","light","LinkPreview","forwardRef","props","ref","className","description","link","linkProps","thumbnailProps","title","forwardedProps","goToUrl","useCallback","window","open","classNames","handleBasicClasses","prefix","big","AspectRatio","free","ColorPalette","dark","ColorVariant","N","blue","displayName","defaultProps"],"mappings":"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"}