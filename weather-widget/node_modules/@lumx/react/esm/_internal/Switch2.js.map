{"version":3,"file":"Switch2.js","sources":["../../../src/components/switch/Switch.tsx"],"sourcesContent":["import React, { Children, forwardRef, SyntheticEvent, useMemo } from 'react';\n\nimport classNames from 'classnames';\nimport { uid } from 'uid';\n\nimport isEmpty from 'lodash/isEmpty';\n\nimport { Alignment, InputHelper, InputLabel, Theme } from '@lumx/react';\n\nimport { Comp, GenericProps, getRootClassName, handleBasicClasses } from '@lumx/react/utils';\n\n/**\n * Defines the props of the component.\n */\nexport interface SwitchProps extends GenericProps {\n    /** Helper text. */\n    helper?: string;\n    /** Whether it is checked or not. */\n    isChecked?: boolean;\n    /** Whether the component is disabled or not. */\n    isDisabled?: boolean;\n    /** Native input name property. */\n    name?: string;\n    /** Position of the switch relative to the label. */\n    position?: Extract<Alignment, 'right' | 'left'>;\n    /** Theme adapting the component to light or dark background. */\n    theme?: Theme;\n    /** Native input value property. */\n    value?: string;\n    /** On change callback. */\n    onChange?(isChecked: boolean, value?: string, name?: string, event?: SyntheticEvent): void;\n}\n\n/**\n * Component display name.\n */\nconst COMPONENT_NAME = 'Switch';\n\n/**\n * Component default class name and class prefix.\n */\nconst CLASSNAME = getRootClassName(COMPONENT_NAME);\n\n/**\n * Component default props.\n */\nconst DEFAULT_PROPS: Partial<SwitchProps> = {\n    position: Alignment.left,\n    theme: Theme.light,\n};\n\n/**\n * Switch component.\n *\n * @param  props Component props.\n * @param  ref   Component ref.\n * @return React element.\n */\nexport const Switch: Comp<SwitchProps, HTMLDivElement> = forwardRef((props, ref) => {\n    const {\n        checked,\n        children,\n        className,\n        disabled,\n        helper,\n        id,\n        isChecked = checked,\n        isDisabled = disabled,\n        name,\n        onChange,\n        position,\n        theme,\n        value,\n        ...forwardedProps\n    } = props;\n    const switchId = useMemo(() => id || `switch-${uid()}`, [id]);\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (onChange) {\n            onChange(!isChecked, value, name, event);\n        }\n    };\n\n    return (\n        <div\n            ref={ref}\n            {...forwardedProps}\n            className={classNames(\n                className,\n                handleBasicClasses({\n                    prefix: CLASSNAME,\n                    isChecked,\n                    isDisabled,\n                    position,\n                    theme,\n                    isUnchecked: !isChecked,\n                }),\n            )}\n            aria-disabled={isDisabled}\n        >\n            <div className={`${CLASSNAME}__input-wrapper`}>\n                <input\n                    type=\"checkbox\"\n                    role=\"switch\"\n                    id={switchId}\n                    className={`${CLASSNAME}__input-native`}\n                    name={name}\n                    value={value}\n                    disabled={isDisabled}\n                    checked={isChecked}\n                    aria-checked={Boolean(isChecked)}\n                    onChange={handleChange}\n                />\n\n                <div className={`${CLASSNAME}__input-placeholder`}>\n                    <div className={`${CLASSNAME}__input-background`} />\n                    <div className={`${CLASSNAME}__input-indicator`} />\n                </div>\n            </div>\n\n            {Children.count(children) > 0 && (\n                <div className={`${CLASSNAME}__content`}>\n                    <InputLabel htmlFor={switchId} theme={theme} className={`${CLASSNAME}__label`}>\n                        {children}\n                    </InputLabel>\n                    {!isEmpty(helper) && (\n                        <InputHelper theme={theme} className={`${CLASSNAME}__helper`}>\n                            {helper}\n                        </InputHelper>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n});\nSwitch.displayName = COMPONENT_NAME;\nSwitch.className = CLASSNAME;\nSwitch.defaultProps = DEFAULT_PROPS;\n"],"names":["COMPONENT_NAME","CLASSNAME","getRootClassName","DEFAULT_PROPS","position","Alignment","left","theme","Theme","light","Switch","forwardRef","props","ref","checked","children","className","disabled","helper","id","isChecked","isDisabled","name","onChange","value","forwardedProps","switchId","useMemo","uid","handleChange","event","classNames","handleBasicClasses","prefix","isUnchecked","Boolean","Children","count","isEmpty","displayName","defaultProps"],"mappings":"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"}